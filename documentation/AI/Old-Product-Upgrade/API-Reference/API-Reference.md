# 老品升级

## 一、接口描述

### 1. 功能描述
> 老品升级（old product upgrade）API为用户提供产品智能升级方案，输入一款自营冰箱老品 sku_id ，返回针对这款产品的升级方案。

### 2. 接口使用

公测期间用户可以免费（0元）进行测试，根据[购买流程](../Pricing/Purchase-Process.md)下单后，即可开始体验业内领先的人工智能API服务。公测期间服务具有调用量、QPS限制，如需更高性能的API服务，请联系客服扩容购买。

在获得使用权限后，您可使用已经封装好的SDK进行相应开发，整体流程详见[调用方法](../Operation-Guide/call-methods.md)  。

### 3. 接口数据要求：
- sku_id：京东商城在售自营冰箱商品编号，这里仅给出两个样例

### 4. 能力说明：
可支持输入一款老品 sku_id 限定为京东自营冰箱品类，其它品类老品升级能力开发中

## 二、请求说明

### 1. 接口地址 ：

```
https://aiapi.jdcloud.com/jdai/productUpgrade
```

### 2. 请求方式：

https `post` aiapi.jdcloud.com/jdai/productUpgrade

### 3. 请求参数

#### （1）header请求参数
业务请求参数

名称 | 类型 | 必填 | 示例值 | 描述
------|------|-----|-----|-----
Authorization | string | 是 | JDCLOUD2-HMAC-SHA256Credential=access... | 签名
Content-Type | String | 是 | application/json | 标准编码格式

#### （2）query请求参数

#### （3）body请求参数

| 名称 | 类型 | 必填 | 示例值 | 描述 | 范围 |
| ---- | ----| ---- | ---- | ---- | ---- |
| sku |  string | 是 | 100003831465 | 商品sku_id | {100003831465, 6162905} |

### 4. 请求代码示例
建议您使用我们提供的SDK进行调用，SDK获取及调用方式详见[sdk的使用方法](../Operation-Guide/Use-Sdk.md)


## 三、返回说明
### 1、返回参数

#### （1）公共返回参数

名称 | 类型 | 示例值 | 描述
------|------|-----|-----
code | string | 1000 | 参见[错误码](Error-Code.md)-系统级错误码
charge | boolean | false 或 true | false：不扣费， true：扣费
remain | long | 1305 | 按天计算剩余调用次数
msg | string | 查询成功 | 参见[错误码](Error-Code.md)-系统级错误码
result | object | {...} | 查询结果


#### （2）业务返回参数
| 名称 | 类型 | 示例值 | 描述 |
| ---- | ---- | ---- | ---- |
| code |  int | 0 | 参见下方错误码-业务错误码 |
| message |  string | ok | 提示信息 |
| result |  object |  {...}  | 具体升级结果，分为4个字段， **before_change_dict** 表示升级前老品的属性取值，**changed_dict** 表示升级方案改变了的属性，其中对每个改变的属性有一个列表，列表第一个元素为原来取值，第二个元素为升级后取值，**before_change_uv_socre** 表示升级前的UV转化得分，**after_change_uv_socre** 表示修改后的UV转化得分 |
| used_time |  int | 100 | 整个请求花费的时间，单位为微秒,请求异常时无used_time |

### 2、返回示例

```JSON
{
    "code": 0,
    "message": "ok",
    "result": {
        "after_change_uv_socre": 93.46,
        "before_change_dict": {
            "90度开门": "不具有",
            "AC+净味": "不具有",
            "DEO净味": "不具有",
            "LTC蓝晶净味": "不具有",
            "PST杀菌": "不具有",
            "TABT除菌": "不具有",
            "一体成型": "具有",
            "一体照明": "不具有",
            "三循环": "不具有",
            "价格": 1150,
            "体积": "196L",
            "假日功能": "不具有",
            "光合保鲜": "不具有",
            "光触媒抗菌": "不具有",
            "全冷气存鲜": "不具有",
            "全开式抽屉": "不具有",
            "全环绕气流": "不具有",
            "净离子杀菌": "不具有",
            "制冰": "不具有",
            "制冷类型": "混冷",
            "动力气流": "不具有",
            "压缩机": "定频",
            "双变频": "不具有",
            "双循环": "具有",
            "发酵功能": "不具有",
            "复古": "不具有",
            "多路送风": "不具有",
            "多重杀菌": "不具有",
            "定制格局": "不具有",
            "宽幅变温": "不具有",
            "宽度": "61-65cm",
            "嵌入式": "不具有",
            "干湿分储": "不具有",
            "底部散热": "不具有",
            "微冻保鲜": "不具有",
            "微晶保鲜": "不具有",
            "急速净味": "不具有",
            "抗菌门封": "不具有",
            "故障智能检测": "不具有",
            "时尚吧台": "不具有",
            "显示器": "具有",
            "智能WI-FI": "不具有",
            "智能保鲜": "不具有",
            "智能变频": "不具有",
            "智能杀菌": "不具有",
            "水分子激活保鲜": "不具有",
            "泡菜发酵": "不具有",
            "涂层": "不具有",
            "涡流动态杀菌": "不具有",
            "深度": "61-65cm",
            "温控方式": "电脑控温",
            "温湿精控": "不具有",
            "独立变温室": "不具有",
            "环保内胆": "不具有",
            "生物保鲜": "不具有",
            "真空仓": "不具有",
            "矢量变频": "不具有",
            "立体蒸发器": "不具有",
            "立体除菌": "不具有",
            "简约风格": "不具有",
            "精细分储": "不具有",
            "纤细边框": "不具有",
            "纤薄设计": "不具有",
            "纳米水离子除菌净味": "不具有",
            "纳米除臭": "不具有",
            "线性变频": "不具有",
            "细胞级养鲜": "不具有",
            "维他养鲜": "不具有",
            "能效等级": "二级",
            "脱氧触媒净味": "不具有",
            "自动低温补偿": "不具有",
            "自动悬停门": "不具有",
            "臻材室": "不具有",
            "蝶门美食窗": "不具有",
            "负氧离子养鲜": "不具有",
            "贴合橱柜": "不具有",
            "速食盘设计": "不具有",
            "金属酒架": "不具有",
            "银离子除菌净味": "不具有",
            "长效净味": "不具有",
            "门中门": "不具有",
            "门的款式": "三门",
            "防串味": "具有",
            "防倾倒设计": "不具有",
            "隐形门把手": "不具有",
            "零度保鲜": "不具有",
            "面板材质": "彩钢",
            "颜色": "金色",
            "食物过期提醒": "不具有",
            "饮水功能": "不具有",
            "高度": "160.1-170cm"
        },
        "before_change_uv_socre": 87.85,
        "changed_dict": {
            "价格": [
                1150,
                900
            ],
            "显示器": [
                "具有",
                "不具有"
            ],
            "智能杀菌": [
                "不具有",
                "具有"
            ],
            "温控方式": [
                "电脑控温",
                "机械控温"
            ]
        }
    },
    "used_time": 537
}
```

### 3、业务错误码
| 业务错误码 | message | 说明 |
| ---- | ---- | ---- |
| 0 |  ok | 成功 |
| 1004 |  parameter error: {error :reason} | 参数错误，并返回错误原因 |
| 40000 |  An unknown exception occurred. | 接口调用失败，内部服务错误  |
